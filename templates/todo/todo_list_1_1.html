{% extends "base.html" %}

{% block content %}
<h1>TODOリスト</h1>
<p>今日は {{ today }} です。</p>

{% if todo_list %}
<table class="table">
  <thead>
  <tr>
    <th>タイトル</th>
    <th>詳細</th>
    <th>期限日</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  {% for todo in todo_list %}
  <tr>
    <td width="30%">{{ todo.title }}</td>
    <td width="50%">{{ todo.description|truncatechars:30 }}</td>
    <td>
      <span {% if today > todo.expiration_date %}style="color:red;"{% endif %}>
      {{ todo.expiration_date|default_if_none:"なし" }}
      </span>
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% else %}
TODOリストがありません。
{% endif %}
{%endblock%}
